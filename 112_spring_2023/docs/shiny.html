<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 2 Shiny | COMP/STAT 112: Introduction to Data Science</title>
  <meta name="description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 2 Shiny | COMP/STAT 112: Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="github-repo" content="bcheggeseth/112_fall_2022/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 2 Shiny | COMP/STAT 112: Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is the class website for Introduction to Data Science at Macalester College for Fall 2022." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro-to-r-rstudio-and-r-markdown.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="custom_styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href = "./">COMP/STAT 112: Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-schedule.html"><a href="course-schedule.html"><i class="fa fa-check"></i>Course Schedule</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html"><i class="fa fa-check"></i>Learning Goals</a>
<ul>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#general-skills"><i class="fa fa-check"></i>General Skills</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#course-topics"><i class="fa fa-check"></i>Course Topics</a>
<ul>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#foundation"><i class="fa fa-check"></i>Foundation</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-acquisition"><i class="fa fa-check"></i>Data Acquisition</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-wrangling"><i class="fa fa-check"></i>Data Wrangling</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-visualization"><i class="fa fa-check"></i>Data Visualization</a></li>
<li class="chapter" data-level="" data-path="learning-goals.html"><a href="learning-goals.html#data-modeling"><i class="fa fa-check"></i>Data Modeling</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Foundation</b></span></li>
<li class="chapter" data-level="1" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> Intro to R, RStudio, and R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#learning-goals-1"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#getting-started-in-rstudio"><i class="fa fa-check"></i>Getting Started in RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#download-r-rstudio"><i class="fa fa-check"></i>Download R &amp; RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#a-quick-tour-of-rstudio"><i class="fa fa-check"></i>A quick tour of RStudio</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#tidy-data"><i class="fa fa-check"></i>Tidy Data</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#data-basics-in-rstudio"><i class="fa fa-check"></i>Data Basics in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#r-markdown-and-reproducible-research"><i class="fa fa-check"></i>R Markdown and Reproducible Research</a></li>
<li class="chapter" data-level="" data-path="intro-to-r-rstudio-and-r-markdown.html"><a href="intro-to-r-rstudio-and-r-markdown.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>2</b> Shiny</a>
<ul>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#learning-goals-2"><i class="fa fa-check"></i>Learning Goals</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#what-is-a-shiny-app"><i class="fa fa-check"></i>What is a Shiny App?</a>
<ul>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#structure-of-a-shiny-app"><i class="fa fa-check"></i>Structure of a Shiny App</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#concept-map"><i class="fa fa-check"></i>Concept Map</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#creating-an-app"><i class="fa fa-check"></i>Creating an app</a>
<ul>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#details"><i class="fa fa-check"></i>Details</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#what-is-an-app.r-file"><i class="fa fa-check"></i>What is an app.R file?</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#input-functions"><i class="fa fa-check"></i><code>*Input()</code> functions</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#output-functions"><i class="fa fa-check"></i><code>*Output()</code> functions</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#using-render-functions"><i class="fa fa-check"></i>Using <code>render*()</code> functions</a></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#publishing-your-app"><i class="fa fa-check"></i>Publishing your app</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="shiny.html"><a href="shiny.html#more-practice"><i class="fa fa-check"></i>More Practice</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COMP/STAT 112: Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="shiny" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Topic 2</span> Shiny<a href="shiny.html#shiny" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="learning-goals-2" class="section level2 unnumbered hasAnchor">
<h2>Learning Goals<a href="shiny.html#learning-goals-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Create a shiny app that requires inputs.</li>
<li>Publish a shiny app to shinyapps.io or the Macalester Shiny server (<a href="https://rstudio-connect.macalester.edu/" class="uri">https://rstudio-connect.macalester.edu/</a>).</li>
</ul>
</div>
<div id="what-is-a-shiny-app" class="section level2 unnumbered hasAnchor">
<h2>What is a Shiny App?<a href="shiny.html#what-is-a-shiny-app" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we will learn how to create a Shiny App. Shiny Apps are applications that allow the user to interact or make changes to graphs or tables. You will learn how to create them in R and how to deploy them on your own <a href="https://shinyapps.io">shinyapps.io</a> webpage or the Macalester Shiny server (<a href="https://rstudio-connect.macalester.edu/" class="uri">https://rstudio-connect.macalester.edu/</a>). See examples of some Shiny apps <a href="https://shiny.rstudio.com/gallery/">here</a>.</p>
<p>I recommend having the <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/shiny.pdf">Shiny cheatsheet</a> open while you are learning about Shiny. Also consider watching at least the first part of <a href="https://shiny.rstudio.com/tutorial/">this tutorial</a> by Garrett Grolemund.</p>
<div id="structure-of-a-shiny-app" class="section level3 unnumbered hasAnchor">
<h3>Structure of a Shiny App<a href="shiny.html#structure-of-a-shiny-app" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To see an example of a Shiny App, go to File &gt; New File &gt; Shiny Web App. Give it the title of <code>First_Shiny_App</code> and make sure the single file button is checked.</p>
<p>Our application will be contained in an <code>app.R</code> file. The file contains two key components:</p>
<p><code>ui</code>: code for the user interface. The user interface is the webpage that your user will interact with. Don’t worry, you don’t need to know how to write html! The app will do that for you! (Although if you want to, there are opportunities to incorporate that knowledge into a Shiny app.)</p>
<p><code>server</code>: code for the computer part. What should the computer/server do with your inputs as the user changes them. This section will have R code in it, more like we’re used to … sort of.</p>
<p>I always keep these names as the default. The last chunk of code at the bottom, <code>shinyApp(ui = ui, server = server)</code>, will compile everything together to result in the interactive webpage.</p>
<p>Press <strong>Run App</strong> at the top of RStudio and see what happens!</p>
</div>
<div id="concept-map" class="section level3 unnumbered hasAnchor">
<h3>Concept Map<a href="shiny.html#concept-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The concept map below illustrates the key components of a Shiny app and how they relate to one another.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-25"></span>
<img src="images/shiny_concept_map.png" alt="Concept Map of Shiny by Lisa Lendway" width="487" />
<p class="caption">
Figure 2.1: Concept Map of Shiny by Lisa Lendway
</p>
</div>
</div>
</div>
<div id="creating-an-app" class="section level2 unnumbered hasAnchor">
<h2>Creating an app<a href="shiny.html#creating-an-app" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Creating a Shiny app is different from what we’ve done so far in this class. One of the biggest changes, is that we’ll be working from .R files, rather than .Rmd files. In .R files, <em>everything</em> is read as R code. So, it’s like one big R code chunk. If you want to make comments, you need to use the pound/hashtag symbol, <code>#</code>.</p>
<p>Let’s start by downloading this blank <a href="template_rmd/app.R"><code>app.R</code></a> file and opening it in RStudio.</p>
<p>Open the file and click Run App. This is a <em>really</em> boring app - there is nothing there! But, it is a great starting point because it gives you an outline of what you need in order to make your app work.</p>
<p>Before getting into a lot of details, let’s add a little bit to the app. At the top of the file (before the <code>ui</code>), load the <code>tidyverse</code> and <code>babynames</code> libraries and add some text in quotes inside the <code>fluidPage()</code> function.Run the app.</p>
<p>Now, let’s move on to creating a more interesting app. Your goal is to create a Shiny app for your friends to explore the <code>babynames</code> dataset!</p>
<p><strong>Requirements:</strong></p>
<ul>
<li>Show the number of babies with a given name over time.<br />
</li>
<li>Allow the user to type a single name. (Ideally, it should give a message if there are no records of the name that was typed, but we won’t worry about that now.)<br />
</li>
<li>Allow the user to choose a range of years they would like to display.</li>
<li>Allow the user to filter by sex.</li>
</ul>
<div id="details" class="section level3 unnumbered hasAnchor">
<h3>Details<a href="shiny.html#details" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How do we do this?</p>
<ul>
<li>Save this app.R file in a folder with a descriptive name such as, <code>Babynames_App</code></li>
<li>Add <code>ui</code> components<br />
</li>
<li>Add <code>server</code> components<br />
</li>
<li>Deploy to a server to share with others!</li>
</ul>
<p>Let’s learn more about these!</p>
</div>
<div id="what-is-an-app.r-file" class="section level3 unnumbered hasAnchor">
<h3>What is an app.R file?<a href="shiny.html#what-is-an-app.r-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Like we’ve already seen in the sample app files, these contain two key components: <code>ui</code> and <code>server</code>.</p>
<p>We will add different <code>*Input()</code> and <code>*Output()</code> functions to the <code>ui</code>.</p>
<ul>
<li>The <code>*Input*()</code> functions collect inputs from the user.<br />
</li>
<li>The <code>*Output()</code> functions work with the <code>render*()</code> functions in the <code>server</code> portion to to add R output to the UI.</li>
</ul>
</div>
<div id="input-functions" class="section level3 unnumbered hasAnchor">
<h3><code>*Input()</code> functions<a href="shiny.html#input-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>*Input()</code> functions collect inputs from the user. The various types are listed on the right-hand side of the first page of the cheatsheet. You will list all the <code>*Input()</code> functions you want to use with their accompanying arguments inside the <code>fluidPage()</code> function in the <code>ui</code> portion. Separate the <code>*Input()</code> functions with commas.</p>
<p>In all the <code>*Input()</code> functions, the first two arguments are the same:
* <code>inputId</code> is how you will call this input in the <code>server</code> portion later,
* <code>label</code> is how this will actually be labeled in your UI. Each function has some additional arguments depending what you want to do.</p>
<div id="exercise" class="section level4 unnumbered hasAnchor">
<h4>Exercise<a href="shiny.html#exercise" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the <code>app.R</code> file you just created, add three inputs inside the <code>fluidPage()</code> function. Be sure to separate them with commas.</p>
<ul>
<li><code>sliderInput()</code> to choose the start and end year for the eventual graph.<br />
</li>
<li><code>textInput()</code> to write a name.<br />
</li>
<li><code>selectInput()</code> to choose a binary sex assigned at birth.</li>
</ul>
<p>Once you complete all the necessary arguments, run your app. Make sure you can enter and move things around as expected. There won’t be a graph yet because we haven’t created it.</p>
</div>
</div>
<div id="output-functions" class="section level3 unnumbered hasAnchor">
<h3><code>*Output()</code> functions<a href="shiny.html#output-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>*Output()</code> functions in the <code>ui</code> portion work with the <code>render*()</code> functions in the <code>server</code> portion to to add R output to the UI. The <code>*Output()</code> functions are listed in the bottom center part of the first page of the cheatsheet.</p>
<p>All the <code>*Output()</code> functions have the same first argument, <code>outputId</code>, which is used how you will call this output in the <code>server</code> portion later (like the <code>inputId</code> in the <code>*Input()</code> functions).</p>
<div id="exercise-1" class="section level4 unnumbered hasAnchor">
<h4>Exercise<a href="shiny.html#exercise-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Add a <code>plotOutput()</code> to the <code>fluidPage()</code> function. Run the app with the output. Notice that nothing really changes. Think of this output as a placeholder. So, it knows there is going to be a plot in the UI, but the details of what the plot will look like and the R code to create it will be in the server portion. Let’s talk about that!</p>
</div>
</div>
<div id="using-render-functions" class="section level3 unnumbered hasAnchor">
<h3>Using <code>render*()</code> functions<a href="shiny.html#using-render-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the server portion of the code, we will use <code>render*()</code> functions with R code to communicate how to use the input pieces along with the R code to create the desired output. The <code>render*()</code> function you use will depend on the desired output. The bottom center of the cheatsheet shows how <code>*Output()</code> and <code>render*()</code> functions connect.</p>
<p>In general, the <code>server</code> section of code will look something like this:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="shiny.html#cb14-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb14-2"><a href="shiny.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>outputId_of_interest <span class="ot">&lt;-</span> render<span class="sc">*</span>({</span>
<span id="cb14-3"><a href="shiny.html#cb14-3" aria-hidden="true" tabindex="-1"></a>R code that creates the output and calls various input<span class="sc">$</span>InputId<span class="st">&#39;s</span></span>
<span id="cb14-4"><a href="shiny.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="st">  })</span></span>
<span id="cb14-5"><a href="shiny.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span></code></pre></div>
<p>So, if inside the <code>ui</code> part, we did <code>plotOutput(outputId = "timeplot")</code>, then in the <code>server</code> part, we would use <code>output$timeplot &lt;- renderPlot({...})</code> and put in detailed R code in place of the <code>...</code>. To reference the inputs we create in the <code>ui</code>, we use <code>input$inputID_name</code>. So, for example, if we had an <code>*Input()</code> with <code>inputId = "years"</code>, we would use <code>input$years</code> in the <code>server</code> portion.</p>
<p>Since we are interested in creating a plot, add the <code>renderPlot()</code> function inside the <code>server</code> portion of the code. Reference the inputs you’ve already created in previous parts and use <code>filter()</code> and <code>ggplot()</code> to render the desired interactive plot. Run the app and check your work by looking at the code chunk below (so don’t look ahead, if you want to try it out on your own!). I also added a submit button to the UI so everything is updated at the same time, only when the button is clicked. You should try adding that, too.</p>
<p>Below, I have also included all the R code used to create the app. I have highlighted the <code>inputId</code> and <code>outputId</code> similarly in the <code>ui</code> and <code>server</code> portions to draw attention to where they are referenced.</p>
<pre><code class='language-r'><code>library(shiny)<br>library(tidyverse)<br>library(babynames)<br><br>ui <- fluidPage(<br>&nbsp;&nbsp;sliderInput(inputId = <span style='background-color:#ffff7f'>"years"</span>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label = "Year Range",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min = 1880, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max = 2017, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value = c(1880,2017),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sep = ""),<br>&nbsp;&nbsp;textInput(<span style='background-color:orange'>"name"</span>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Baby Name", <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value = "", <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;placeholder = "Brianna"),<br>&nbsp;&nbsp;selectInput(<span style='background-color:lightgreen'>"sex"</span>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Sex Assigned at Birth", <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choices = list(Female = "F", Male = "M")),<br>&nbsp;&nbsp;submitButton(text = "Update Plot"),<br>&nbsp;&nbsp;plotOutput(outputId = <span style='background-color:lightblue'>"timeplot"</span>)<br>)<br><br>server <- function(input, output) {<br>&nbsp;&nbsp;<span style='background-color:lightblue'>output$timeplot</span> <- renderPlot({<br>&nbsp;&nbsp;&nbsp;&nbsp;babynames %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter(name == <span style='background-color:orange'>input$name</span>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sex == <span style='background-color:lightgreen'>input$sex</span>) %>% <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ggplot() +<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom_line(aes(x = year, y = n)) +<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scale_x_continuous(limits = <span style='background-color:#ffff7f'>input$years</span>) +<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labs(x = 'Year', y = 'Count', title = paste0('Count of Baby Names in the U.S. from ',<span style='background-color:#ffff7f'>input$years</span>[1],' to ',<span style='background-color:#ffff7f'>input$years</span>[2])) + <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_classic()<br>&nbsp;&nbsp;})<br>}<br><br>shinyApp(ui = ui, server = server)</code></code></pre>
</div>
<div id="publishing-your-app" class="section level3 unnumbered hasAnchor">
<h3>Publishing your app<a href="shiny.html#publishing-your-app" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step is to nstall and load the <code>rsconnect</code> library in your R Studio session.</p>
<p><strong>Option 1 (Macalester Shiny Server)</strong></p>
<p><em>This option allows you to share your applications with individuals on Macalester campus or who have VPN access to the Macalester network.</em></p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://rstudio-connect.macalester.edu/">https://rstudio-connect.macalester.edu/</a> and click Sign In in the upper-right.</li>
<li>Use your Macalester username (before <code>@macalester.edu</code>) and your existing Macalester password.</li>
<li>Run the app in RStudio. In the upper right-hand corner, there is an option to publish the app (blue half circle icon with dot in the middle). Click on that and then click <code>Add new account</code> &gt; RStudio Connect. The public url is <code>rstudio-connect.macalester.edu</code>. It will open a webpage and ask you to authenticate your connect account.</li>
<li>When you create an app, save it as <code>app.R</code> in a folder. It <strong>MUST</strong> be named <code>app.R</code>. In the <code>app.R</code> file, load all libraries you use in your code. Also try not to have extra libraries or it will take longer to get it on the website. Any data that your app uses needs to be read in within the app. If the data are local to your computer, you need to have the data in the same folder as the app.<br />
</li>
<li>Run the app. In the upper right-hand corner, there is an option to publish the app. Click on that. It will take a bit of time to do it the first time. Once published, you can go to the app via the webpage provided.</li>
</ol>
<p>You should set permissions so that <code>Anyone - no login required</code> can view your application. The URL to share your application is under Content URL on the bottom right.</p>
<p><strong>Option 2 (Shinyapps.io)</strong></p>
<p><em>This option allows you to share your applications with any individual with internet access unless you make it password protected.</em></p>
<ol style="list-style-type: decimal">
<li>Register at <a href="https://www.shinyapps.io/admin/#/signup">https://www.shinyapps.io/admin/#/signup</a>.<br />
</li>
<li>Once you are logged in to shinyapps.io, go to Account –&gt; Tokens and click the Show button.<br />
</li>
<li>Copy and paste the code into the console in R. This will connect your account to R Studio.</li>
<li>When you create an app, save it as <code>app.R</code> in a folder. It <strong>MUST</strong> be named <code>app.R</code>. In the <code>app.R</code> file, load all libraries you use in your code. Also try not to have extra libraries or it will take longer to get it on the website. Any data that your app uses needs to be read in within the app. If the data are local to your computer, you need to have the data in the same folder as the app.<br />
</li>
<li>Run the app. In the upper right-hand corner, there is an option to publish the app. Click on that. It will take a bit of time to do it the first time. Once published, you can go to the app via the webpage provided.</li>
</ol>
<p>The instructions are set out in more detail <a href="https://shiny.rstudio.com/articles/shinyapps.html">here</a>.</p>
<p>You can see the example of my sample app before it was published in the shiny_app folder of all my files (note that the <code>rsconnect</code> folder is added after publishing the app).</p>
</div>
</div>
<div id="more-practice" class="section level2 unnumbered hasAnchor">
<h2>More Practice<a href="shiny.html#more-practice" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Try adding something more to the app. Here are a couple ideas.</p>
<ol style="list-style-type: decimal">
<li><p>Return a message if the user enters a name that is not found in the data set. By the way, this will happen if someone enters a name with all lowercase letters, too. How could you solve that problem?</p></li>
<li><p>Allow the user to enter more than one name and compare the graphs either by coloring different lines or using faceting.</p></li>
<li><p>Allow the user to change something about the graph, like the color of the line or the type of line.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro-to-r-rstudio-and-r-markdown.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
